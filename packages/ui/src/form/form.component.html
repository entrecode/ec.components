<form novalidate [formGroup]="group" (ngSubmit)="submit()" *ngIf="group">
  <div #wrapper>
    <ng-content></ng-content>
  </div>
  <div *ngIf="!wrapper.children.length&&!empty">
    <div *ngFor="let field of form?.fields | visibleFields" [ngClass]="'form-group_' + field.view" [ngSwitch]="field.view" class="form-group" [attr.data-type]="field.type">
      <label [for]="field.id">{{field.label || field.property}}</label>
      <ec-input *ngIf="!field.readOnly" [field]="field" [group]="group" [item]="form" [formControl]="group.get(field.property)"></ec-input>
      <ec-output *ngIf="field.readOnly" [field]="field" [item]="form"></ec-output>
    </div>
    <button type="button" (click)="submit()" *ngIf="submitButton!==false" [disabled]="group.invalid" class="btn btn_save">
      <ec-icon name="save"></ec-icon>
    </button>
    <ec-loader class="ec-loader ec-loader_overlay ec-loader_global" #formLoader></ec-loader>
  </div>
</form>
