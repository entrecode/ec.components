<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ec.components documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">ec.components documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>NotificationsComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#readme" role="tab" id="readme-tab" data-toggle="tab" data-link="readme">README</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
        <li >
            <a href="#example" role="tab" id="example-tab" data-toggle="tab" data-link="example">Examples</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>packages/ui/src/lib/notifications/notifications.component.ts</code>
</p>

    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Displays any kind of Notification inside the DOM.
It listens on the notificationService.$emitter for notifications.
<example-url>https://components.entrecode.de/ui/notifications?e=1</example-url></p>

    </p>




<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>ec-notifications</code></td>
            </tr>




            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./notifications.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#notifications">notifications</a>
                            </li>
                        </ul>
                    </td>
                </tr>


                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#time">time</a>
                            </li>
                        </ul>
                    </td>
                </tr>




        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(notificationService: <a href="../injectables/NotificationsService.html">NotificationsService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">packages/ui/src/lib/notifications/notifications.component.ts:21</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Listens on the NotificationService and shows each notification that has this component set as host, or none at all. </p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>notificationService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/NotificationsService.html" target="_self" >NotificationsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section>
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="time"></a>
                        <b>time</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">packages/ui/src/lib/notifications/notifications.component.ts:21</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The default time for a notification to be visible. Will be ignored if the notification itself has a time set. </p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>




    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="notifications"></a>
                        <span class="name">
                            <b>
                            notifications</b>
                            <a href="#notifications"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Collection&lt;Notification&gt;</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new Collection([])</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">packages/ui/src/lib/notifications/notifications.component.ts:19</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The current stack of notifications that are visible. </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

</div>

    <div class="tab-pane fade " id="c-readme">
        <p><h1 id="notifications">Notifications</h1>
<p>The Notifications Module is a combination of the NotificationsService and the NotificationsComponent.</p>
<h2 id="simple-usage">Simple Usage</h2>
<ol>
<li>Place the component somewhere in your app template:</li>
</ol>
<p><code>html
&lt;ec-notifications&gt;&lt;/ec-notifications&gt;</code></p>
<ol start="2">
<li>Emit notifications via the service</li>
</ol>
<p>```ts
export class MyComponent {
  constructor(private notifications: NotificationsService) {}</p>
<p>  showNotification() {
      this.notifications.emit({
        type: &#39;success&#39;,
        title: &#39;Das ist der Notification Titel&#39;,
        message: &#39;Das ist die Beschreibung&#39;
      });
  }</p>
<p>  doSomethingRisky() {
      return Promise.reject(&#39;Fehler&#39;)
      .catch((err) =&gt; {
          this.notifications.emit({
              error: err, // passing the error Object
              title: &#39;Fehler!&#39;
          })
      })
  }
}
```</p>
<p>The given type will be added as class. The classes that are available by default <a href="https://github.com/entrecode/ec.components/blob/master/packages/style/notifications/_ec-notifications_default.scss">can be looked up here</a>.</p>
<h2 id="advanced-usage">Advanced Usage</h2>
<p>You can also use multiple ec-notifications at different places:</p>
<p><code>html
&lt;ec-notifications #a&gt;&lt;/ec-notifications&gt;
&lt;ec-notifications #b&gt;&lt;/ec-notifications&gt;
&lt;button (click)=&quot;emit(a)&quot;&gt;A&lt;/button&gt;
&lt;button (click)=&quot;emit(b)&quot;&gt;B&lt;/button&gt;</code></p>
<p>All you have to do, is pass the instance of the component that should display the notification via the host property:</p>
<p>```ts
export class MyComponent {
  constructor(private notifications: NotificationsService) {}</p>
<p>  emit(host) {
      this.notifications.emit({
        type: &#39;success&#39;,
        title: &#39;Das ist der Notification Titel&#39;,
        host: host
      });
  }
}
```</p>
<h2 id="hiding-previous-errors">Hiding previous errors</h2>
<p>Here is an example usage of a typical success/error handling.
It features hiding previous notifications. We recommended you to use the <em>WithNotifications</em> interface for that case.</p>
<p>```ts
export class MuffinComponent implements WithNotifications {
  /** Recent Error notification */
  notifications: Notification[] = [];</p>
<p>constructor(
    public bakery:BakeryService,
    public notificationService: NotificationsService,
    )</p>
<p>  bake() {
    this.bakery.bake().then(()=&gt; {
        this.notificationService.emit({
            title: &#39;Muffin was baken!&#39;,
            hide: this.notifications // this will hide all preceding notifications
        })
    }).catch(error=&gt;{
        this.notificationService.emit({
            title: &#39;Error while baking&#39;,
            sticky: true,
            hide: this.notifications, // this will hide all preceding notifications
            replace: this.notifications // this will replace the given array with the new notification
        })
    });
  }
}
```</p>
<p>The hide option is useful to hide obsolete errors. E.g. If you successfully log in after one failiure, the sticky error notification of the first attempt will be hidden. This enables you to keep errors messages as long as they are needed.
Instead of replace, you could also use append (see notification.component.ts for implementation).</p>
</p>
    </div>

    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, Input } from &#x27;@angular/core&#x27;;
import { Collection } from &#x27;@ec.components/core&#x27;;
import { Notification } from &#x27;./notification&#x27;;
import { NotificationsService } from &#x27;./notifications.service&#x27;;

/** Displays any kind of Notification inside the DOM.
 * It listens on the notificationService.$emitter for notifications.
 * &lt;example-url&gt;https://components.entrecode.de/ui/notifications?e&#x3D;1&lt;/example-url&gt;
 * */
@Component({
  selector: &#x27;ec-notifications&#x27;,
  templateUrl: &#x27;./notifications.component.html&#x27;,
})
export class NotificationsComponent {
  /** The current stack of notifications that are visible. */
  notifications: Collection&lt;Notification&gt; &#x3D; new Collection([]);
  /** The default time for a notification to be visible. Will be ignored if the notification itself has a time set. */
  @Input() time: number;

  /** Listens on the NotificationService and shows each notification that has this component set as host, or none at all. */
  constructor(private notificationService: NotificationsService) {
    this.time &#x3D; this.time || this.notificationService.defaultTime;
    this.notificationService.emitter$.subscribe((notification: Notification) &#x3D;&gt; {
      if (notification.hide) {
        this.notifications.removeAll(notification.hide);
      }
      if (!notification.title &amp;&amp; !notification.message) {
        // console.warn(&#x27;tried to emit notification without message and title&#x27;, notification);
        return;
      }
      if (notification.append) {
        notification.append.push(notification);
      }
      if (notification.replace) {
        notification.replace.length &#x3D; 0;
        notification.replace.push(notification);
      }

      if (!notification.host || notification.host &#x3D;&#x3D;&#x3D; this) {
        this.notifications.add(notification);
        if (notification.sticky) {
          if (notification.time) {
            console.warn(&#x27;notification.time is ignored because it was set sticky&#x27;);
          }
          return;
        }
        setTimeout(() &#x3D;&gt; this.notifications.remove(notification), notification.time || this.time);
      }
    });
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;ec-notifications&quot;&gt;
  &lt;ec-pop *ngFor&#x3D;&quot;let notification of notifications?.items&quot; [active]&#x3D;&quot;true&quot; class&#x3D;&quot;ec-notification&quot; [ngClass]&#x3D;&quot;&#x27;is-&#x27; + notification.type&quot;&gt;
    &lt;h6 class&#x3D;&quot;ec-notification__title&quot;&gt;{{notification.title}}&lt;/h6&gt;
    &lt;p class&#x3D;&quot;ec-notification__message&quot;&gt;{{notification.message}}&lt;/p&gt;
    &lt;ec-error *ngIf&#x3D;&quot;notification.error&quot; [error]&#x3D;&quot;notification.error&quot;&gt;&lt;/ec-error&gt;
    &lt;ul *ngIf&#x3D;&quot;notification.error?.errors&quot; class&#x3D;&quot;ec-notification-errors-list&quot;&gt;
      &lt;li *ngFor&#x3D;&quot;let error of notification.error?.errors&quot;&gt;
        &lt;ec-error [error]&#x3D;&quot;error&quot;&gt;&lt;/ec-error&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
    &lt;a class&#x3D;&quot;ec-notification__dismiss&quot; (click)&#x3D;&quot;notifications.remove(notification)&quot;&gt;
      &lt;ec-icon name&#x3D;&quot;close&quot;&gt;&lt;/ec-icon&gt;
    &lt;/a&gt;
  &lt;/ec-pop&gt;
&lt;/div&gt;</code></pre>
    </div>


    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    <div class="tab-pane fade " id="c-example">
            <iframe class="exampleContainer" src="https://components.entrecode.de/ui/notifications?e&#x3D;1">
                <p>no-iframes</p>
            </iframe>
    </div>
    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="ec-notifications">  <ec-pop *ngFor="let notification of notifications?.items" [active]="true" class="ec-notification" [ngClass]="\'is-\' + notification.type">    <h6 class="ec-notification__title">{{notification.title}}</h6>    <p class="ec-notification__message">{{notification.message}}</p>    <ec-error *ngIf="notification.error" [error]="notification.error"></ec-error>    <ul *ngIf="notification.error?.errors" class="ec-notification-errors-list">      <li *ngFor="let error of notification.error?.errors">        <ec-error [error]="error"></ec-error>      </li>    </ul>    <a class="ec-notification__dismiss" (click)="notifications.remove(notification)">      <ec-icon name="close"></ec-icon>    </a>  </ec-pop></div></div>'
    var COMPONENTS = [{'name': 'AceComponent', 'selector': 'ec-ace'},{'name': 'ActionbarComponent', 'selector': 'ec-actionbar'},{'name': 'AdminEntryInputComponent', 'selector': ''},{'name': 'ApiActionbarComponent', 'selector': 'ec-api-actionbar'},{'name': 'AssetgroupSelectComponent', 'selector': 'ec-assetgroup-select'},{'name': 'AssetListComponent', 'selector': 'ec-asset-list'},{'name': 'AssetListPopComponent', 'selector': 'ec-asset-list-pop'},{'name': 'AssetSelectComponent', 'selector': 'ec-asset-select'},{'name': 'CalendarComponent', 'selector': 'ec-calendar'},{'name': 'CrudComponent', 'selector': 'ec-crud'},{'name': 'DaterangeComponent', 'selector': 'ec-daterange'},{'name': 'DatetimeComponent', 'selector': 'ec-datetime'},{'name': 'DefaultEntryInputComponent', 'selector': ''},{'name': 'DefaultEntryOutputComponent', 'selector': 'ec-default-entry-output'},{'name': 'DefaultInputComponent', 'selector': ''},{'name': 'DefaultOutputComponent', 'selector': 'ec-default-output'},{'name': 'DynamicRackComponent', 'selector': ''},{'name': 'DynamicSlotComponent', 'selector': 'ec-dynamic-slot'},{'name': 'EntryActionbarComponent', 'selector': 'ec-entry-actionbar'},{'name': 'EntryFormComponent', 'selector': 'ec-entry-form'},{'name': 'EntryListComponent', 'selector': 'ec-entry-list'},{'name': 'EntryListPopComponent', 'selector': 'ec-entry-list-pop'},{'name': 'EntryListSelectComponent', 'selector': 'ec-entry-list-select'},{'name': 'EntryPopComponent', 'selector': 'ec-entry-pop'},{'name': 'EntrySelectComponent', 'selector': 'ec-entry-select'},{'name': 'ErrorComponent', 'selector': 'ec-error'},{'name': 'FormComponent', 'selector': 'ec-form'},{'name': 'HeatmapComponent', 'selector': 'ec-heatmap'},{'name': 'IconComponent', 'selector': 'ec-icon'},{'name': 'ImageSelectPopComponent', 'selector': 'ec-image-select-pop'},{'name': 'InputComponent', 'selector': 'ec-input'},{'name': 'InputErrorsComponent', 'selector': 'ec-input-errors'},{'name': 'ListComponent', 'selector': 'ec-list'},{'name': 'ListHeaderComponent', 'selector': 'ec-list-header'},{'name': 'ListItemsComponent', 'selector': 'ec-list-items'},{'name': 'LoaderComponent', 'selector': 'ec-loader'},{'name': 'LocationMapComponent', 'selector': 'ec-location-map'},{'name': 'LocationPickerComponent', 'selector': 'ec-location-picker'},{'name': 'LocationSearchComponent', 'selector': 'ec-location-search'},{'name': 'LoginComponent', 'selector': 'ec-login'},{'name': 'LoginFormComponent', 'selector': 'ec-login-form'},{'name': 'MediumEditorComponent', 'selector': 'ec-medium-editor'},{'name': 'MenuComponent', 'selector': 'ec-menu,[ec-menu]'},{'name': 'ModalComponent', 'selector': 'ec-modal'},{'name': 'MonthComponent', 'selector': 'ec-month'},{'name': 'NotificationsComponent', 'selector': 'ec-notifications'},{'name': 'OutputComponent', 'selector': 'ec-output'},{'name': 'PaginationComponent', 'selector': 'ec-pagination'},{'name': 'PasswordResetComponent', 'selector': 'ec-password-reset'},{'name': 'PopComponent', 'selector': 'ec-pop'},{'name': 'ResourceActionbarComponent', 'selector': 'ec-resource-actionbar'},{'name': 'ResourceCrudComponent', 'selector': 'ec-resource-crud'},{'name': 'ResourceDeletePopComponent', 'selector': 'ec-resource-delete-pop'},{'name': 'ResourceFormComponent', 'selector': 'ec-resource-form'},{'name': 'ResourceListComponent', 'selector': 'ec-resource-list'},{'name': 'ResourceListPopComponent', 'selector': 'ec-resource-list-pop'},{'name': 'ResourcePopComponent', 'selector': 'ec-resource-pop'},{'name': 'ResourceSelectComponent', 'selector': 'ec-resource-select'},{'name': 'SearchbarComponent', 'selector': 'ec-searchbar'},{'name': 'SelectComponent', 'selector': 'ec-select'},{'name': 'SignupComponent', 'selector': 'ec-signup'},{'name': 'SignupFormComponent', 'selector': 'ec-signup-form'},{'name': 'TabComponent', 'selector': 'ec-tab'},{'name': 'TabsComponent', 'selector': 'ec-tabs'},{'name': 'TagSelectComponent', 'selector': 'ec-tag-select'},{'name': 'TinymceComponent', 'selector': 'ec-tinymce'},{'name': 'ToggleComponent', 'selector': 'ec-toggle'},{'name': 'UploadComponent', 'selector': 'ec-upload'},{'name': 'UploadSelectComponent', 'selector': 'ec-upload-select'}];
    var DIRECTIVES = [{'name': 'AssetDirective', 'selector': '[ecAsset]'},{'name': 'DropzoneDirective', 'selector': '[ecDropzone]'},{'name': 'EntriesDirective', 'selector': '[ecEntries]'},{'name': 'EntryDirective', 'selector': '[ecEntry]'},{'name': 'FocusDirective', 'selector': '[ecFocus]'},{'name': 'ImageDirective', 'selector': 'img [ecImage]'},{'name': 'SlotHostDirective', 'selector': '[ecSlotHost]'}];
    var ACTUAL_COMPONENT = {'name': 'NotificationsComponent'};
</script>
<script src="../js/tree.js"></script>














                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'NotificationsComponent.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
