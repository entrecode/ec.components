<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ec.components documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">ec.components documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li>ModelConfigService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>packages/data/src/lib/model-config/model-config.service.ts</code>
        </p>

            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>The main class for configuring the behaviour of a model.
By default, everything is auto generated from the model&#39;s schema but can be overriden via the
set method. </p>

            </p>

            <p class="comment">
                <h3>Extends</h3>
            </p>
            <p class="comment">
                        <code><a href="../classes/Config.html" target="_self" >Config</a></code>
            </p>


            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#omittedFields">omittedFields</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#config">config</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#generateConfig">generateConfig</a>
                            </li>
                            <li>
                                <a href="#get">get</a>
                            </li>
                            <li>
                                <a href="#getFieldConfig">getFieldConfig</a>
                            </li>
                            <li>
                                <a href="#getLightModel">getLightModel</a>
                            </li>
                            <li>
                                <a href="#getMinLevel">getMinLevel</a>
                            </li>
                            <li>
                                <a href="#getSystemFields">getSystemFields</a>
                            </li>
                            <li>
                                <a href="#set">set</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Optional</span>
                                <a href="#configure">configure</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(entryService: <a href="../injectables/EntryService.html">EntryService</a>, sdk: <a href="../injectables/SdkService.html">SdkService</a>, typeConfig: <a href="../injectables/TypeConfigService.html">TypeConfigService</a>, symbol: <a href="../injectables/SymbolService.html">SymbolService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">packages/data/src/lib/model-config/model-config.service.ts:19</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Injects EntryService and SdkService. </p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>entryService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/EntryService.html" target="_self" >EntryService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>sdk</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SdkService.html" target="_self" >SdkService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>typeConfig</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/TypeConfigService.html" target="_self" >TypeConfigService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>symbol</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SymbolService.html" target="_self" >SymbolService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateConfig"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            generateConfig
                        </b>
                        <a href="#generateConfig"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateConfig(model: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, customFieldConfig?: <a href="../interfaces/FieldConfig.html">FieldConfig</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="209"
                            class="link-to-prism">packages/data/src/lib/model-config/model-config.service.ts:209</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Generates a CrudConfig for the given model.
Merges three configurations into one:
- default field config, obtained by getFieldConfig
- global model config (if any) configured via with set
- customFieldConfig: any custom field config that is merged on top of the other two.
This enables the developer to either customize at a global scale to target all lists/forms,
or just specific components. </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>model</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>customFieldConfig</td>
                                    <td>
                                                <code><a href="../interfaces/FieldConfig.html" target="_self" >FieldConfig</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/CrudConfig.html" target="_self" >Promise&lt;CrudConfig&lt;EntryResource&gt;&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="get"></a>
                    <span class="name">
                        <b>
                            get
                        </b>
                        <a href="#get"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>get(property: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="37"
                            class="link-to-prism">packages/data/src/lib/model-config/model-config.service.ts:37</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Retrieves the given model config.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>property</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                        <b>Example :</b>
                        <div>
                            <pre class="line-numbers"><code class="language-html">&lt;code&gt;typescript
   * ModelConfig.get(&amp;#39;muffin&amp;#39;); //returns muffin config;
   *&lt;/code&gt;</code></pre>
                        </div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/CrudConfig.html" target="_self" >CrudConfig&lt;EntryResource&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFieldConfig"></a>
                    <span class="name">
                        <b>
                            getFieldConfig
                        </b>
                        <a href="#getFieldConfig"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getFieldConfig(model: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="142"
                            class="link-to-prism">packages/data/src/lib/model-config/model-config.service.ts:142</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the default field config for the given model.
Utilizes PublicAPI#getFieldConfig + TypeConfigService#get.
This config is meant to deliver the default behaviour when nothing else is configured. </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>model</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/FieldConfig.html" target="_self" >Promise&lt;FieldConfig&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getLightModel"></a>
                    <span class="name">
                        <b>
                            getLightModel
                        </b>
                        <a href="#getLightModel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getLightModel(model)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="240"
                            class="link-to-prism">packages/data/src/lib/model-config/model-config.service.ts:240</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns light model information </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>model</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMinLevel"></a>
                    <span class="name">
                        <b>
                            getMinLevel
                        </b>
                        <a href="#getMinLevel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getMinLevel(model: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, customFieldConfig?: <a href="../interfaces/FieldConfig.html">FieldConfig</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="121"
                            class="link-to-prism">packages/data/src/lib/model-config/model-config.service.ts:121</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Parses config for fields that require leveled entries </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>model</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>customFieldConfig</td>
                                    <td>
                                                <code><a href="../interfaces/FieldConfig.html" target="_self" >FieldConfig</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSystemFields"></a>
                    <span class="name">
                        <b>
                            getSystemFields
                        </b>
                        <a href="#getSystemFields"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSystemFields()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="57"
                            class="link-to-prism">packages/data/src/lib/model-config/model-config.service.ts:57</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the field config for all system fields </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>{ id: { label: any; create: boolean; view: string; filterView: string; filterable: boolean; filte...</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="set"></a>
                    <span class="name">
                        <b>
                            set
                        </b>
                        <a href="#set"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>set(property: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, config: <a href="../interfaces/CrudConfig.html">CrudConfig<EntryResource></a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="52"
                            class="link-to-prism">packages/data/src/lib/model-config/model-config.service.ts:52</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Sets the given model config.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>property</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>config</td>
                                    <td>
                                                <code><a href="../interfaces/CrudConfig.html" target="_self" >CrudConfig&lt;EntryResource&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                        <b>Example :</b>
                        <div>
                            <pre class="line-numbers"><code class="language-html">&lt;code&gt;typescript
   * ModelConfig.set(&amp;#39;muffin&amp;#39;, {
   *  fields: {
   *    title: {
   *      label: &amp;#39;Muffin Titel&amp;#39;
   *    }
   *  });
   *&lt;/code&gt;</code></pre>
                        </div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/CrudConfig.html" target="_self" >CrudConfig&lt;EntryResource&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="configure"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            <span class="modifier">Optional</span>
                            configure
                        </b>
                        <a href="#configure"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>configure(key: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, property: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, config?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/Config.html" target="_self" >Config</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/Config.html#source" target="_self" >Config:13</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>This method is a getter and setter for configurations. The key stands for the config (e.g. model).
The property is a sub property if the config (e.g. fields =&gt; model.fields).
If no config is given, the method just returns the configuration for the given property.
If a config is given, the property config is merged via Object.assign. </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>key</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>property</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>config</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" >Object</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="omittedFields"></a>
                        <span class="name">
                            <b>
                            omittedFields</b>
                            <a href="#omittedFields"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Array&lt;string&gt;</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[&#x27;id&#x27;, &#x27;private&#x27;, &#x27;created&#x27;, &#x27;creator&#x27;, &#x27;modified&#x27;]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">packages/data/src/lib/model-config/model-config.service.ts:19</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Array of property names that are omitted by default. </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="config"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            config</b>
                            <a href="#config"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>literal type</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{}</code>
                        </td>
                    </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Inherited from         <code><a href="../classes/Config.html" target="_self" >Config</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in         <code><a href="../classes/Config.html#source" target="_self" >Config:5</a></code>
</div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The config object. </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;
import { Config, FieldConfig, Item } from &#x27;@ec.components/core&#x27;;
import { SymbolService } from &#x27;@ec.components/ui&#x27;;
import { fields } from &#x27;ec.sdk/lib/PublicAPI&#x27;;
import EntryResource from &#x27;ec.sdk/lib/resources/publicAPI/EntryResource&#x27;;
import { CrudConfig } from &#x27;../crud/crud-config.interface&#x27;;
import { EntryService } from &#x27;../entry/entry.service&#x27;;
import { SdkService } from &#x27;../sdk/sdk.service&#x27;;
import { TypeConfigService } from &#x27;./type-config.service&#x27;;
import { AdminEntryInputComponent } from &#x27;../entry-form/admin-entry-input.component&#x27;;
import { DefaultEntryOutputComponent } from &#x27;../entry-form/default-entry-output.component&#x27;;

/** The main class for configuring the behaviour of a model.
 * By default, everything is auto generated from the model&#x27;s schema but can be overriden via the
 * set method. */
@Injectable()
export class ModelConfigService extends Config {
  /** Array of property names that are omitted by default. */
  omittedFields: Array&lt;string&gt; &#x3D; [&#x27;id&#x27;, &#x27;private&#x27;, &#x27;created&#x27;, &#x27;creator&#x27;, &#x27;modified&#x27;];

  /** Injects EntryService and SdkService. */
  constructor(
    private entryService: EntryService,
    private sdk: SdkService,
    private typeConfig: TypeConfigService,
    private symbol: SymbolService,
  ) {
    super();
  }

  /** Retrieves the given model config.
   * @example
   * &#x60;&#x60;&#x60;typescript
   * ModelConfig.get(&#x27;muffin&#x27;); //returns muffin config;
   * &#x60;&#x60;&#x60;
   * */
  get(property: string): CrudConfig&lt;EntryResource&gt; {
    return this.configure(&#x27;model&#x27;, property);
  }

  /** Sets the given model config.
   * @example
   * &#x60;&#x60;&#x60;typescript
   * ModelConfig.set(&#x27;muffin&#x27;, {
   *  fields: {
   *    title: {
   *      label: &#x27;Muffin Titel&#x27;
   *    }
   *  });
   * &#x60;&#x60;&#x60;
   * */
  set(property: string, config: CrudConfig&lt;EntryResource&gt;): CrudConfig&lt;EntryResource&gt; {
    return this.configure(&#x27;model&#x27;, property, config);
  }

  /** Returns the field config for all system fields */
  getSystemFields() {
    return {
      id: {
        label: this.symbol.resolve(&#x27;field.label.id&#x27;),
        create: false,
        view: &#x27;copy&#x27;,
        filterView: &#x27;string&#x27;,
        filterable: true,
        filterOperator: &#x27;exact&#x27;,
        form: true,
        immutable: true,
        hideInList: true,
        columns: 3,
      },
      _created: {
        label: this.symbol.resolve(&#x27;field.label.created&#x27;),
        display: this.typeConfig.displayDate(),
        group: this.typeConfig.groupDate(),
        copy: this.typeConfig.isoDate(),
        create: false,
        form: true,
        columns: 3,
        view: &#x27;copy&#x27;,
        immutable: true,
        sortable: true,
        hideInList: true,
        rawFilter: true,
      },
      _modified: {
        label: this.symbol.resolve(&#x27;field.label.modified&#x27;),
        display: this.typeConfig.displayDate(),
        group: this.typeConfig.groupDate(),
        copy: this.typeConfig.isoDate(),
        create: false,
        form: true,
        columns: 3,
        view: &#x27;copy&#x27;,
        immutable: true,
        sortable: true,
        hideInList: false,
        rawFilter: true,
      },
      _creator: {
        label: this.symbol.resolve(&#x27;field.label.creator&#x27;),
        display: this.typeConfig.displayAccount(),
        copy: (value) &#x3D;&gt; value,
        create: false,
        type: &#x27;account&#x27;,
        view: &#x27;copy&#x27;,
        columns: 3,
        form: true,
        immutable: true,
        hideInList: true,
        filterable: true,
        input: AdminEntryInputComponent,
        output: DefaultEntryOutputComponent,
        readOnly: true,
        filterPopClass: &#x27;ec-pop_dialog&#x27;,
        filterOperator: &#x27;exact&#x27;,
      },
    };
  }

  /** Parses config for fields that require leveled entries */
  getMinLevel(model: string, customFieldConfig?: FieldConfig) {
    return this.generateConfig(model, customFieldConfig).then((modelConfig) &#x3D;&gt; {
      const fieldConfig &#x3D; modelConfig.fields;
      return Object.keys(fieldConfig)
        .filter((field) &#x3D;&gt; !!fieldConfig[field].type)
        .map((field) &#x3D;&gt; {
          const inputView &#x3D; fieldConfig[field].inputView;
          const views &#x3D; this.typeConfig.get(fieldConfig[field].type).inputViews || [];
          if (!inputView || !views) {
            return 1;
          }
          const match &#x3D; views.find((v) &#x3D;&gt; v.name &#x3D;&#x3D;&#x3D; inputView);
          return match ? match.levels || 1 : 1;
        })
        .reduce((max, lvl) &#x3D;&gt; Math.max(max, lvl), 1);
    });
  }

  /** Returns the default field config for the given model.
   * Utilizes PublicAPI#getFieldConfig + TypeConfigService#get.
   * This config is meant to deliver the default behaviour when nothing else is configured. */
  getFieldConfig(model: string): Promise&lt;FieldConfig&gt; {
    return this.sdk.api.getFieldConfig(model).then((fieldConfig: fields) &#x3D;&gt; {
      const merged &#x3D; {};
      Object.assign(merged, this.getSystemFields());
      Object.keys(fieldConfig)
        .map((property) &#x3D;&gt; fieldConfig[property])
        .forEach(
          ({ config, type, title, unique, mutable, readOnly, required, validation, description, localizable }) &#x3D;&gt; {
            /* type &#x3D; type as string; */
            config &#x3D; config || {};
            if (type.includes(&#x27;asset&#x27;)) {
              type &#x3D; type.replace(&#x27;a&#x27;, &#x27;dmA&#x27;);
            }
            // parse field config
            const {
              hideInList,
              hideInForm,
              hideOnCreate,
              hideOnEdit,
              placeholder,
              inputView,
              label,
              classes,
              columns &#x3D; 12,
            } &#x3D; config;
            const typeConfig &#x3D; this.typeConfig.get(type);
            // assign default values + merge customFieldConfig if given
            merged[title] &#x3D; Object.assign(
              {
                property: title,
                label: label || title + (type &#x3D;&#x3D;&#x3D; &#x27;datetime&#x27; ? &#x60; ${this.symbol.resolve(&#x27;datetime.local&#x27;)}&#x60; : &#x27;&#x27;),
                placeholder,
                description,
                validation,
                relation: validation,
                immutable: !mutable,
                readOnly,
                hideInList,
                hideInForm,
                create: !hideOnCreate,
                edit: !hideOnEdit,
                classes,
                unique,
                required,
                columns,
                /* display: ((value) &#x3D;&gt; value), */
                localizable,
              },
              typeConfig,
              {
                placeholder: placeholder || typeConfig.placeholder,
                inputView: inputView || typeConfig.inputView || type,
              },
            );
          },
        );
      return merged;
    });
  }

  /** Generates a CrudConfig for the given model.
   * Merges three configurations into one:
   * - default field config, obtained by getFieldConfig
   * - global model config (if any) configured via with set
   * - customFieldConfig: any custom field config that is merged on top of the other two.
   * This enables the developer to either customize at a global scale to target all lists/forms,
   * or just specific components. */
  async generateConfig(model: string, customFieldConfig?: FieldConfig): Promise&lt;CrudConfig&lt;EntryResource&gt;&gt; {
    const lightModel &#x3D; await this.getLightModel(model);
    // first step: merge global model config with default entry config
    const modelConfig &#x3D; Object.assign(this.get(model) || {}, {
      identifier: &#x27;id&#x27;,
      identifierPattern: /^[0-9A-Za-z-_]{7,14}$/, // shortID pattern
      label: &#x27;_entryTitle&#x27;,
      defaultFilter: lightModel.titleField,
      onSave: (item: Item&lt;EntryResource&gt;, value) &#x3D;&gt; this.entryService.save(model, item, value),
    });
    return this.getFieldConfig(model).then((fieldConfig: FieldConfig) &#x3D;&gt; {
      const modelConfigFields &#x3D; modelConfig.fields || {};
      const relevantKeys &#x3D; Object.keys(customFieldConfig || modelConfigFields);
      const mergedFields &#x3D; {};
      if (!relevantKeys.length) {
        modelConfig.fields &#x3D; fieldConfig;
      } else {
        relevantKeys.forEach((key) &#x3D;&gt; {
          mergedFields[key] &#x3D; Object.assign(
            {},
            fieldConfig[key] || {},
            modelConfigFields[key] || {},
            (customFieldConfig || {})[key],
          );
        });
        modelConfig.fields &#x3D; mergedFields;
      }
      return modelConfig;
    });
  }
  /** Returns light model information */
  getLightModel(model) {
    return this.sdk.ready.then(() &#x3D;&gt; this.sdk.api.modelList()).then((models) &#x3D;&gt; models[model]);
  }
}
</code></pre>
    </div>

</div>











                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'ModelConfigService.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
