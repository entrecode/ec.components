<h2>Auth Demo</h2>
<a class="btn" (click)="loginPop.show()">{{sdk.user?.email || 'Login'}}</a>
<ec-notifications class="toast"></ec-notifications>

<ec-pop #loginPop class="deck opens-left" active="true" data-col="4-sm">
  <a class="deck-dismiss" (click)="loginPop.hide()">
    <ec-icon name="close-x-big"></ec-icon>
  </a>

  <div class="deck-body is-scrollable-y">
    <div *ngIf="sdk.user">
      <p>
        <strong>Logged in as {{sdk.user.email}}</strong>
      </p>
      <button (click)="auth.logout()">Logout</button>
      <pre>
        {{sdk.user | json}}
      </pre>
    </div>
    <section *ngIf="!sdk.user">
      <div class="well-small">
        <h6>general login</h6>
        <ec-login (success)="log($event)"></ec-login>
      </div>
      <div class="well-small">
        <h6>public login</h6>
        <ec-login [api]="sdk.api" (success)="log($event)"></ec-login>
      </div>
      <div class="well-small">
        <h6>admin login</h6>
        <ec-login [api]="sdk.session" (success)="log($event)"></ec-login>
      </div>
      <div class="well-small">
        <h6>general password reset</h6>
        <ec-password-reset (success)="log($event)"></ec-password-reset>
      </div>
      <div class="well-small">
        <h6>public password reset</h6>
        <ec-password-reset [api]="sdk.api" (success)="log($event)"></ec-password-reset>
      </div>
      <div class="well-small">
        <h6>ec password reset</h6>
        <ec-password-reset [api]="sdk.session" (success)="log($event)"></ec-password-reset>
      </div>
    </section>
  </div>
</ec-pop>